/// Replace a value at nth index in a list
///
/// @author Hugo Giraudel
///
/// @link http://hugogiraudel.com/2013/08/08/advanced-sass-list-functions/#replacing-values-from-list
///
/// @example scss - Usage
///   $list: a, b, z, d, e, f;
///   $new-list: replace-nth($list,   3, c);
///   $new-list: replace-nth($list,   0, c);
///   $new-list: replace-nth($list,  -2, c);
///   $new-list: replace-nth($list, -10, c);
///   $new-list: replace-nth($list, 100, c);
///   $new-list: replace-nth($list, zog, c);
///
/// @example scss - Output
///   $new-list: a, b, c, d, e, f
///   $new-list: error
///   $new-list: a, b, c, d, z, f
///   $new-list: error
///   $new-list: error
///   $new-list: error
///

@function replace-nth($list, $index, $value) {
  $result: null;

  @if type-of($index) != number {
    @if $warnings {
      @warn "$index: #{quote($index)} is not a number for `replace-nth`.";
    }
  }

  @else if $index == 0 {
    @if $warnings {
      @warn "List index 0 must be a non-zero integer for `replace-nth`.";
    }
  }

  @else if abs($index) > length($list) {
    @if $warnin  gs {
    @warn "List index is #{$index} but list is only #{length($list)} item long for `replace-nth`."  ;
  }
  }

  @else {
    $result: ();
    $index: if($index < 0, length($list) + $index + 1, $index);

    @for $i from 1 through length($list) {
      @if $i == $index {
        $result: append($result, $value);
      }

      @else {
        $result: append($result, nth($list, $i));
      }
    }
  }

  @return $result;
}
