/// Checks to see if value is a number. This includes units (except for calc)
///
/// @author Hugo Giraudel
///
/// @link https://css-tricks.com/snippets/sass/advanced-type-checking/
///
/// @access public
///
/// @return {bool}

@function is-number($value, $check-strings:true, $allow-units:true) {

  @if $check-strings and type-of($value) == 'string' {

    // Early check to dismiss this as a number if any spaces are found in the string.
    // TODO: considor replacing this with a string-replace to remove all spaces instead.
    @if str-index($value, ' ') != null {
      @return false;
    }

    // If a '-' symbol exists but it's not the first character, return false
    @if str-index($value, '-') != null and str-slice($value, 1, 1) != '-' {
      @return false;
    }

    // Remove percentage symbol.
    $value : str-replace($value, '%', '');

    // Remove units from the value string. It had to be done this way, because
    // you can't strip units from a string.
    @if $allow-units and not unitless(to-number($value)) {
      $unit : null;

      @each $u in $all-units {
        @if _string-ends-with($value, $u) {
          $unit : $u;
        }
      }
      $value : str-replace($value, $unit, '');
    }

    $exploaded-value : _string-explode($value, '');
    $allowed-characters : "-" "0" "1" "2" "3" "4" "5" "6" "7" "8" "9";

    // Return false is any of the chacters are not in the list of allowed numbers
    @each $character in $exploaded-value {
      @if (index($allowed-characters, $character) != null) == false {
        @return false;
      }
    }

    @return true;

  } @else {

    @return type-of($value) == 'number';

  }
}
