@mixin custom-property($properties, $values:null, $at-root:false) {

    $map : if(type-of($properties) == map, $properties, map-zip($properties, $values));

    @each $property, $value in $map {
      @if $at-root {
        @at-root(without:media) & {
          --#{$property}:$value;
        }
      } @else {
        --#{$property}:$value;
      }
    }

}