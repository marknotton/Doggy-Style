@mixin devices($args...) {

  // This checks to see if the current selector is html.
  // This can not be converted into a shorthanded if statement.
  $selector : to-string(#{&});
	$space : ' ';

	@if (str-index($selector, 'html')) {
		$selector : string-replace(#{$selector}, 'html', '');
		@if ($selector != 'html') {
			$space : '';
		}
	}

  @each $settings in arglist-to-list($args...) {

    $devices-list : ();
    $not : true;

    @each $setting in $settings {
      @if is-string($setting) {
        @if contains($devices, $setting) and length($devices-list) < 2 {
          $devices-list : append($devices-list, $setting);
        }
      } @elseif is-bool($setting) {
        $not : $setting;
      }
    }

    // @if length($devices-list) > 1 and length($types-list) > 0 {
    //   @error 'You can not check the same version for 2 browsers in a single argument. Try seperating the arguments using a comma (,)';
    // } @else {
      @if length($devices-list) > 0 {
        @each $device in $devices-list {
          @if $not {
            @at-root html[data-device="#{$device}"]#{$space}#{$selector}{ @content; }
          } @else {
            @at-root html:not([data-device="#{$device}"])#{$space}#{$selector}{ @content; }
          }
        }
      }
    // }
  }
}
