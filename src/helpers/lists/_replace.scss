////////////////////////////////////////////////////////////////////////////////
/// Replace                                                             #replace
////////////////////////////////////////////////////////////////////////////////
///
/// Replacing values in a list
///
/// @author Hugo Giraudel
///
/// @group helpers-lists
///
/// @link http://hugogiraudel.com/2013/08/08/advanced-sass-list-functions/#replacing-values-from-list
///
/// @example scss - Usage
///   $list: a, b, r, a, c a, d a, b, r, a;
///   $new-list1: replace($list, a, u);
///   $new-list2: replace($list, a, u, true);
///
/// @example scss - Output
///   $new-list1: u, b, r, u, c a, d a, b, r, u;
///   $new-list2: u, b, r, u, c u, d u, b, r, u;
///

@function replace($list, $old-value, $new-value, $recursive: false) {
  $result: ();

  @for $i from 1 through length($list) {
    @if type-of(nth($list, $i)) == list and $recursive {
      $result: append($result, replace(nth($list, $i), $old-value, $new-value, $recursive));
    }

    @else {
      @if nth($list, $i) == $old-value {
        $result: append($result, $new-value);
      }

      @else {
        $result: append($result, nth($list, $i));
      }
    }
  }

  @return $result;
}
